<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>components/Sidebar/SidebarEmployee.jsx - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#AccessDenied">AccessDenied</a></li><li><a href="global.html#Analyses">Analyses</a></li><li><a href="global.html#AnalysesMember">AnalysesMember</a></li><li><a href="global.html#AnalysisPDF">AnalysisPDF</a></li><li><a href="global.html#ChartOilInventory">ChartOilInventory</a></li><li><a href="global.html#DashboardAdmin">DashboardAdmin</a></li><li><a href="global.html#DashboardEmployee">DashboardEmployee</a></li><li><a href="global.html#DashboardMember">DashboardMember</a></li><li><a href="global.html#DeleteEmployeeModal">DeleteEmployeeModal</a></li><li><a href="global.html#DeleteEntryModal">DeleteEntryModal</a></li><li><a href="global.html#DeleteMemberModal">DeleteMemberModal</a></li><li><a href="global.html#DeleteOilModal">DeleteOilModal</a></li><li><a href="global.html#DeleteSettlementMemberModal">DeleteSettlementMemberModal</a></li><li><a href="global.html#DeleteSettlementModal">DeleteSettlementModal</a></li><li><a href="global.html#DeleteUserModal">DeleteUserModal</a></li><li><a href="global.html#DepartmentProtectedRoute">DepartmentProtectedRoute</a></li><li><a href="global.html#Departments">Departments</a></li><li><a href="global.html#EditAnalysisModal">EditAnalysisModal</a></li><li><a href="global.html#EditEmployeeModal">EditEmployeeModal</a></li><li><a href="global.html#EditEntryModal">EditEntryModal</a></li><li><a href="global.html#EditMemberModal">EditMemberModal</a></li><li><a href="global.html#EditOilModal">EditOilModal</a></li><li><a href="global.html#EditSettlementModal">EditSettlementModal</a></li><li><a href="global.html#EditUserModal">EditUserModal</a></li><li><a href="global.html#Employees">Employees</a></li><li><a href="global.html#EmployeesDoughnutChart">EmployeesDoughnutChart</a></li><li><a href="global.html#Entries">Entries</a></li><li><a href="global.html#EntriesMember">EntriesMember</a></li><li><a href="global.html#EntryPDF">EntryPDF</a></li><li><a href="global.html#EntryWithOilPDF">EntryWithOilPDF</a></li><li><a href="global.html#Error404">Error404</a></li><li><a href="global.html#ForgotPassword">ForgotPassword</a></li><li><a href="global.html#HomeAdmin">HomeAdmin</a></li><li><a href="global.html#HomeEmployee">HomeEmployee</a></li><li><a href="global.html#HomeMember">HomeMember</a></li><li><a href="global.html#LandingPage">LandingPage</a></li><li><a href="global.html#LoginAdmin">LoginAdmin</a></li><li><a href="global.html#LoginEmployee">LoginEmployee</a></li><li><a href="global.html#LoginMember">LoginMember</a></li><li><a href="global.html#Logout">Logout</a></li><li><a href="global.html#Members">Members</a></li><li><a href="global.html#MembersDoughnutChart">MembersDoughnutChart</a></li><li><a href="global.html#NewEmployeeModal">NewEmployeeModal</a></li><li><a href="global.html#NewEntryModal">NewEntryModal</a></li><li><a href="global.html#NewMemberModal">NewMemberModal</a></li><li><a href="global.html#NewOilModal">NewOilModal</a></li><li><a href="global.html#NewSettlementAvailableModal">NewSettlementAvailableModal</a></li><li><a href="global.html#NewSettlementModal">NewSettlementModal</a></li><li><a href="global.html#NewUserModal">NewUserModal</a></li><li><a href="global.html#OilAnalysisDoughnutChart">OilAnalysisDoughnutChart</a></li><li><a href="global.html#OilMember">OilMember</a></li><li><a href="global.html#OilPrices">OilPrices</a></li><li><a href="global.html#Oils">Oils</a></li><li><a href="global.html#OilsEmployee">OilsEmployee</a></li><li><a href="global.html#ProtectedRoute">ProtectedRoute</a></li><li><a href="global.html#Roles">Roles</a></li><li><a href="global.html#SettlementDoughnutChart">SettlementDoughnutChart</a></li><li><a href="global.html#SettlementPDF">SettlementPDF</a></li><li><a href="global.html#Settlements">Settlements</a></li><li><a href="global.html#SettlementsMember">SettlementsMember</a></li><li><a href="global.html#UserProfile">UserProfile</a></li><li><a href="global.html#Users">Users</a></li><li><a href="global.html#authRoutes">authRoutes</a></li><li><a href="global.html#dashboardRoutesAdmin">dashboardRoutesAdmin</a></li><li><a href="global.html#dashboardRoutesEmployee">dashboardRoutesEmployee</a></li><li><a href="global.html#dashboardRoutesMember">dashboardRoutesMember</a></li><li><a href="global.html#entrySchema">entrySchema</a></li><li><a href="global.html#fetchAnalyses">fetchAnalyses</a></li><li><a href="global.html#fetchEntries">fetchEntries</a></li><li><a href="global.html#fetchMembers">fetchMembers</a></li><li><a href="global.html#fetchOils">fetchOils</a></li><li><a href="global.html#fetchRolesAndCounts">fetchRolesAndCounts</a></li><li><a href="global.html#fetchSettlements">fetchSettlements</a></li><li><a href="global.html#fetchUsersByRole">fetchUsersByRole</a></li><li><a href="global.html#fetchUsuarios">fetchUsuarios</a></li><li><a href="global.html#filterUsuarios">filterUsuarios</a></li><li><a href="global.html#formatEuro">formatEuro</a></li><li><a href="global.html#getAnalyses">getAnalyses</a></li><li><a href="global.html#getDepartments">getDepartments</a></li><li><a href="global.html#getEmployees">getEmployees</a></li><li><a href="global.html#getEntries">getEntries</a></li><li><a href="global.html#getMembers">getMembers</a></li><li><a href="global.html#getOilInventories">getOilInventories</a></li><li><a href="global.html#getOilSettlements">getOilSettlements</a></li><li><a href="global.html#getOils">getOils</a></li><li><a href="global.html#getRoles">getRoles</a></li><li><a href="global.html#getSettlements">getSettlements</a></li><li><a href="global.html#getUsers">getUsers</a></li><li><a href="global.html#handleCardClick">handleCardClick</a></li><li><a href="global.html#handleCreate">handleCreate</a></li><li><a href="global.html#handleDelete">handleDelete</a></li><li><a href="global.html#oilSchema">oilSchema</a></li><li><a href="global.html#protectedRoutes">protectedRoutes</a></li><li><a href="global.html#updateSettlements">updateSettlements</a></li><li><a href="global.html#updateUsuarios">updateUsuarios</a></li><li><a href="global.html#userSchema">userSchema</a></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">components/Sidebar/SidebarEmployee.jsx</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { useState, useContext, useEffect } from "react";
import { UserContext } from "@context/UserContext";
import { NavLink } from "react-router-dom";
import clsx from "clsx";
import {
  Home,
  Briefcase,
  Building,
  UserCircle,
  FileText,
  FlaskConical,
  Droplets,
  ChevronLeft,
  ChevronRight,
} from "lucide-react";
import { useTranslation } from "react-i18next";
import { useTheme } from "@context/ThemeContext";

const menuItems = [{ name: "navigation.oils", icon: Droplets, to: "oils" }];

const departmentMenus = {
  Contabilidad: [
    { name: "navigation.home", icon: Home, to: "home" },
    { name: "navigation.settlements", icon: FlaskConical, to: "settlements" },
    { name: "navigation.oils", icon: Droplets, to: "oils" },
  ],
  Laboratorio: [
    { name: "navigation.home", icon: Home, to: "home" },
    { name: "navigation.analyses", icon: FlaskConical, to: "analyses" },
    { name: "navigation.oils", icon: Droplets, to: "oils" },
  ],
  "Control de entradas": [
    { name: "navigation.home", icon: Home, to: "home" },
    { name: "navigation.entries", icon: FileText, to: "entries" },
    { name: "navigation.oils", icon: Droplets, to: "oils" },
  ],
  RRHH: [
    { name: "navigation.home", icon: Home, to: "home" },
    { name: "navigation.employees", icon: Briefcase, to: "employees" },
    { name: "navigation.departments", icon: Building, to: "departments" },
    { name: "navigation.oils", icon: Droplets, to: "oils" },
  ],
  Administración: [
    { name: "navigation.home", icon: Home, to: "home" },
    { name: "navigation.members", icon: UserCircle, to: "members" },
    { name: "navigation.oils", icon: Droplets, to: "oils" },
  ],
};

/**
 * Sidebar para empleados con menú dinámico basado en el departamento.
 * 
 * Permite a los empleados navegar entre diferentes secciones de la aplicación,
 * mostrando opciones específicas según el departamento al que pertenecen.
 *
 * @component
 * @example
 * &lt;SidebarEmployee />
 * 
 * @returns {JSX.Element} El sidebar con la navegación para los empleados.
 */
export default function SidebarEmployee() {
  const { t } = useTranslation();
  const { theme } = useTheme();
  const [collapsed, setCollapsed] = useState(false);
  const [isMobile, setIsMobile] = useState(false);

  const isDarkMode = theme === "dark";

  const { userData } = useContext(UserContext);
  const departmentName = userData.user.employee?.department?.name;

  const filteredMenuItems = departmentMenus[departmentName] || menuItems;

  useEffect(() => {
    const handleResize = () => {
      const mobile = window.innerWidth &lt;= 768;
      setIsMobile(mobile);
      if (mobile) setCollapsed(true);
    };

    // Detectar al montar
    handleResize();

    // Detectar cambios de tamaño
    window.addEventListener("resize", handleResize);
    return () => window.removeEventListener("resize", handleResize);
  }, []);

  return (
    &lt;aside
      className={clsx(
        "flex flex-col min-h-screen h-screen overflow-hidden transition-all duration-300 border-r",
        collapsed ? "w-20" : "w-64",
        isDarkMode
          ? "bg-dark-900 border-dark-700"
          : "bg-olive-100 border-olive-300"
      )}
    >
      {/* Logo + Botón de colapsar */}
      &lt;div
        className={clsx(
          "flex items-center justify-center px-4 py-4 relative border-b mb-5",
          isDarkMode ? "border-dark-600" : "border-olive-700"
        )}
      >
        &lt;img
          src="/logo.png"
          alt="Logo"
          className={clsx(
            "transition-all duration-300",
            collapsed ? "w-14" : "w-32"
          )}
        />
        {!isMobile &amp;&amp; (
          &lt;button
            onClick={() => setCollapsed(!collapsed)}
            className={clsx(
              "hover:opacity-80 transition absolute right-0",
              isDarkMode ? "text-dark-200" : "text-olive-600"
            )}
          >
            {collapsed ? (
              &lt;ChevronRight size={20} className="cursor-pointer" />
            ) : (
              &lt;ChevronLeft size={32} className="cursor-pointer" />
            )}
          &lt;/button>
        )}
      &lt;/div>

      {/* Menú */}
      &lt;nav className="flex-1 px-2 space-y-1 overflow-auto">
        {filteredMenuItems.map((item, index) => (
          &lt;NavLink
            key={index}
            to={item.to}
            className={({ isActive }) =>
              clsx(
                "flex items-center gap-3 px-3 py-2 text-sm font-medium transition-all duration-300 rounded-lg",
                collapsed &amp;&amp; "justify-center",
                isActive
                  ? isDarkMode
                    ? "bg-dark-700 text-dark-50"
                    : "bg-olive-600 text-white"
                  : isDarkMode
                  ? "text-dark-200 hover:bg-dark-800"
                  : "text-olive-700 hover:bg-olive-200"
              )
            }
          >
            &lt;item.icon size={18} />
            {!collapsed &amp;&amp; &lt;span>{t(item.name)}&lt;/span>}
          &lt;/NavLink>
        ))}
      &lt;/nav>
    &lt;/aside>
  );
}

</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.4</a> on Wed Apr 30 2025 21:16:33 GMT+0200 (hora de verano de Europa central) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>
